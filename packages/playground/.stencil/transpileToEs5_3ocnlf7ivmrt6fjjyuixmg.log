import { h } from '../app.core.js';
var HeaderContent = /** @class */ (function () {
    function HeaderContent() {
        this.closeDrawer = {};
        this.opened = false;
        this.connected = false;
    }
    HeaderContent.prototype.menuClicked = function (event) {
        event.preventDefault();
        this.closeDrawer.emit();
    };
    HeaderContent.prototype.updateConnectionWidget = function (event) {
        this.connected = event.detail.authenticated;
    };
    HeaderContent.prototype.render = function () {
        var _this = this;
        return (h("nav", { class: "header-content" }, h("div", { class: "left" }, h("div", { class: "top-line" }, h("widget-logo", null), h("a", { class: "hide-on-desktop", onClick: function (e) { return _this.menuClicked(e); } }, h("img", { src: "/assets/icon/menu-btn.svg", alt: "Menu" }))), h("div", { class: "connection" }, h("widget-connection", null)), h("widget-dev-flags", null)), h("header-account", { onAuthenticationChanged: function (e) { return _this.updateConnectionWidget(e); } })));
    };
    Object.defineProperty(HeaderContent, "is", {
        get: function () { return "header-content"; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(HeaderContent, "encapsulation", {
        get: function () { return "shadow"; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(HeaderContent, "properties", {
        get: function () {
            return {
                "connected": {
                    "state": true
                },
                "opened": {
                    "type": Boolean,
                    "attr": "opened"
                }
            };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(HeaderContent, "events", {
        get: function () {
            return [{
                    "name": "closeDrawer",
                    "method": "closeDrawer",
                    "bubbles": true,
                    "cancelable": true,
                    "composed": true
                }];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(HeaderContent, "style", {
        get: function () { return "/**style-placeholder:header-content:**/"; },
        enumerable: true,
        configurable: true
    });
    return HeaderContent;
}());
var WidgetDevFlags = /** @class */ (function () {
    function WidgetDevFlags() {
        this.showingModal = false;
    }
    Object.defineProperty(WidgetDevFlags.prototype, "matchmakeWith", {
        get: function () {
            return localStorage.getItem("playground:matchmakeWith");
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WidgetDevFlags.prototype, "hasAnyFlags", {
        get: function () {
            return this.matchmakeWith;
        },
        enumerable: true,
        configurable: true
    });
    WidgetDevFlags.prototype.showModal = function () {
        this.showingModal = true;
    };
    WidgetDevFlags.prototype.hideModal = function () {
        this.showingModal = false;
    };
    WidgetDevFlags.prototype.unset = function (key, event) {
        event.preventDefault();
        localStorage.removeItem(key);
        var target = event.target;
        target.outerHTML = "Cleared!";
    };
    WidgetDevFlags.prototype.buildFlagRow = function (key, propName) {
        var _this = this;
        return (h("tr", null, h("td", null, key), h("td", null, this[propName]), h("td", null, h("a", { href: "#", onClick: function (e) { return _this.unset(key, e); } }, "Unset"))));
    };
    Object.defineProperty(WidgetDevFlags.prototype, "dialog", {
        get: function () {
            var rows = [];
            if (this.matchmakeWith) {
                rows.push(this.buildFlagRow("playground:matchmakeWith", "matchmakeWith"));
            }
            var content = (h("table", { cellSpacing: 0, cellPadding: 0 }, h("tr", null, h("th", null, "Flag"), h("th", null, "Value"), h("th", null)), rows));
            return (h("widget-dialog", { dialogTitle: "Using dev flags", content: content, dialogClass: "dialog--dev-flags", contentClass: "dialog-content--dev-flags", visible: this.showingModal, primaryButtonText: "Close", onPrimaryButtonClicked: this.hideModal.bind(this) }));
        },
        enumerable: true,
        configurable: true
    });
    WidgetDevFlags.prototype.render = function () {
        return this.hasAnyFlags ? ([
            h("widget-tooltip", { onClick: this.showModal.bind(this), message: "Click here for full details" }, "\u26A0\uFE0F Using dev flags"),
            this.dialog
        ]) : (h("div", null));
    };
    Object.defineProperty(WidgetDevFlags, "is", {
        get: function () { return "widget-dev-flags"; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WidgetDevFlags, "encapsulation", {
        get: function () { return "shadow"; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WidgetDevFlags, "properties", {
        get: function () {
            return {
                "showingModal": {
                    "state": true
                }
            };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WidgetDevFlags, "style", {
        get: function () { return "/**style-placeholder:widget-dev-flags:**/"; },
        enumerable: true,
        configurable: true
    });
    return WidgetDevFlags;
}());
export { HeaderContent, WidgetDevFlags };
