/*!
 * StencilStateTunnel: Core, es5
 * Built with http://stenciljs.com
 */
function u(n, r) {
  for (var o, i, a = null, u = !1, s = !1, c = arguments.length; c-- > 2; ) e.push(arguments[c]);
  for (;e.length > 0; ) {
    var f = e.pop();
    if (f && void 0 !== f.pop) for (c = f.length; c--; ) e.push(f[c]); else "boolean" == typeof f && (f = null), 
    (s = "function" != typeof n) && (null == f ? f = "" : "number" == typeof f ? f = String(f) : "string" != typeof f && (s = !1)), 
    s && u ? a[a.length - 1].vtext += f : null === a ? a = [ s ? {
      vtext: f
    } : f ] : a.push(s ? {
      vtext: f
    } : f), u = s;
  }
  if (null != r) {
    if (r.className && (r.class = r.className), "object" == typeof r.class) {
      for (c in r.class) r.class[c] && e.push(c);
      r.class = e.join(" "), e.length = 0;
    }
    null != r.key && (o = r.key), null != r.name && (i = r.name);
  }
  return "function" == typeof n ? n(r, a || [], t) : {
    vtag: n,
    vchildren: a,
    vtext: void 0,
    vattrs: r,
    vkey: o,
    vname: i,
    w: void 0,
    g: !1
  };
}

function f(e) {
  return {
    vtag: e.vtag,
    vchildren: e.vchildren,
    vtext: e.vtext,
    vattrs: e.vattrs,
    vkey: e.vkey,
    vname: e.vname
  };
}

window, Object.setPrototypeOf || Array;

var e = [], t = {
  forEach: function(e, t) {
    e.forEach(function(e, n, r) {
      return t(f(e), n, r);
    });
  },
  map: function(e, t) {
    return e.map(function(e, n, r) {
      return function(e) {
        return {
          vtag: e.vtag,
          vchildren: e.vchildren,
          vtext: e.vtext,
          vattrs: e.vattrs,
          vkey: e.vkey,
          vname: e.vname
        };
      }(t(f(e), n, r));
    });
  }
}, n = function(e, t) {
  var n = {};
  for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
  if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
    var o = 0;
    for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) t.indexOf(r[o]) < 0 && (n[r[o]] = e[r[o]]);
  }
  return n;
};

/*! Built with http://stenciljs.com */ function defaultConsumerRender(e, t) {
  return u("context-consumer", {
    subscribe: e,
    renderer: t
  });
}

function createProviderConsumer(e, t) {
  void 0 === t && (t = defaultConsumerRender);
  var r = new Map(), o = e;
  function updateListener(e, t) {
    Array.isArray(e) ? e.slice().forEach(function(e) {
      t[e] = o[e];
    }) : t[e] = Object.assign({}, o), t.forceUpdate();
  }
  function attachListener(e) {
    return function(t) {
      r.has(t) || (r.set(t, e), updateListener(e, t));
    };
  }
  function subscribe(e, t) {
    return attachListener(t)(e), function() {
      r.delete(e);
    };
  }
  return {
    Provider: function(e, t) {
      return o = e.state, r.forEach(updateListener), t;
    },
    Consumer: function(e, n) {
      return t(subscribe, n[0]);
    },
    wrapConsumer: function(e, t) {
      var r = e.is;
      return function(e) {
        var o = e.children, i = n(e, [ "children" ]);
        return u(r, Object.assign({
          ref: attachListener(t)
        }, i), o);
      };
    },
    injectProps: function(e, t) {
      var n = null, r = Object.keys(e.properties).find(function(t) {
        return 1 == e.properties[t].elementRef;
      });
      if (null == r) throw new Error("Please ensure that your Component " + e.is + ' has an attribute with an "@Element" decorator. This is required to be able to inject properties.');
      var o = e.prototype.componentWillLoad;
      e.prototype.componentWillLoad = function() {
        if (n = subscribe(this[r], t), o) return o.bind(this)();
      };
      var i = e.prototype.componentDidUnload;
      e.prototype.componentDidUnload = function() {
        if (n(), i) return i.bind(this)();
      };
    }
  };
}

// StencilStateTunnel: ES Module
export { createProviderConsumer as a };