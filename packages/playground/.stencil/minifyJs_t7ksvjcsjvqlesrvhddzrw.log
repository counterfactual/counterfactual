/*!
 * StencilStateTunnel: Core, es5
 * Built with http://stenciljs.com
 */
function u(e, t) {
  for (var n, r, o = null, i = !1, a = !1, u = arguments.length; u-- > 2; ) T.push(arguments[u]);
  for (;T.length > 0; ) {
    var s = T.pop();
    if (s && void 0 !== s.pop) for (u = s.length; u--; ) T.push(s[u]); else "boolean" == typeof s && (s = null), 
    (a = "function" != typeof e) && (null == s ? s = "" : "number" == typeof s ? s = String(s) : "string" != typeof s && (a = !1)), 
    a && i ? o[o.length - 1].vtext += s : null === o ? o = [ a ? {
      vtext: s
    } : s ] : o.push(a ? {
      vtext: s
    } : s), i = a;
  }
  if (null != t) {
    if (t.className && (t.class = t.className), "object" == typeof t.class) {
      for (u in t.class) t.class[u] && T.push(u);
      t.class = T.join(" "), T.length = 0;
    }
    null != t.key && (n = t.key), null != t.name && (r = t.name);
  }
  return "function" == typeof e ? e(t, o || [], W) : {
    vtag: e,
    vchildren: o,
    vtext: void 0,
    vattrs: t,
    vkey: n,
    vname: r,
    w: void 0,
    g: !1
  };
}

function f(e) {
  return {
    vtag: e.vtag,
    vchildren: e.vchildren,
    vtext: e.vtext,
    vattrs: e.vattrs,
    vkey: e.vkey,
    vname: e.vname
  };
}

Object.setPrototypeOf || Array;

var T = [], W = {
  forEach: function(e, t) {
    e.forEach(function(e, n, r) {
      return t(f(e), n, r);
    });
  },
  map: function(e, t) {
    return e.map(function(e, n, r) {
      return function(e) {
        return {
          vtag: e.vtag,
          vchildren: e.vchildren,
          vtext: e.vtext,
          vattrs: e.vattrs,
          vkey: e.vkey,
          vname: e.vname
        };
      }(t(f(e), n, r));
    });
  }
}, __rest = function(e, t) {
  var n = {};
  for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
  if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
    var o = 0;
    for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) t.indexOf(r[o]) < 0 && (n[r[o]] = e[r[o]]);
  }
  return n;
};

/*! Built with http://stenciljs.com */ function defaultConsumerRender(e, t) {
  return u("context-consumer", {
    subscribe: e,
    renderer: t
  });
}

function createProviderConsumer(e, t) {
  void 0 === t && (t = defaultConsumerRender);
  var n = new Map(), r = e;
  function updateListener(e, t) {
    Array.isArray(e) ? e.slice().forEach(function(e) {
      t[e] = r[e];
    }) : t[e] = Object.assign({}, r), t.forceUpdate();
  }
  function attachListener(e) {
    return function(t) {
      n.has(t) || (n.set(t, e), updateListener(e, t));
    };
  }
  function subscribe(e, t) {
    return attachListener(t)(e), function() {
      n.delete(e);
    };
  }
  return {
    Provider: function(e, t) {
      return r = e.state, n.forEach(updateListener), t;
    },
    Consumer: function(e, n) {
      return t(subscribe, n[0]);
    },
    wrapConsumer: function(e, t) {
      var n = e.is;
      return function(e) {
        var r = e.children, o = __rest(e, [ "children" ]);
        return u(n, Object.assign({
          ref: attachListener(t)
        }, o), r);
      };
    },
    injectProps: function(e, t) {
      var n = null, r = Object.keys(e.properties).find(function(t) {
        return 1 == e.properties[t].elementRef;
      });
      if (null == r) throw new Error("Please ensure that your Component " + e.is + ' has an attribute with an "@Element" decorator. This is required to be able to inject properties.');
      var o = e.prototype.componentWillLoad;
      e.prototype.componentWillLoad = function() {
        if (n = subscribe(this[r], t), o) return o.bind(this)();
      };
      var i = e.prototype.componentDidUnload;
      e.prototype.componentDidUnload = function() {
        if (n(), i) return i.bind(this)();
      };
    }
  };
}

// StencilStateTunnel: ES Module
export { createProviderConsumer as a };